{"ast":null,"code":"/**\n * Audio utilities for Korean learning app\n * Provides functions for playing sounds for letters, syllables, and words\n */\n\n// Audio cache to avoid reloading sounds\nconst audioCache = new Map();\n\n// Check if browser supports speech synthesis\nexport const isSpeechSupported = () => {\n  return 'speechSynthesis' in window;\n};\n\n// Get available Korean voices\nexport const getKoreanVoices = () => {\n  if (!isSpeechSupported()) return [];\n  const voices = window.speechSynthesis.getVoices();\n  return voices.filter(voice => voice.lang.startsWith('ko') || voice.name.toLowerCase().includes('korean') || voice.name.toLowerCase().includes('korea'));\n};\n\n// Play Korean text using speech synthesis\nexport const speakKorean = (text, options = {}) => {\n  if (!isSpeechSupported()) {\n    console.warn('Speech synthesis not supported in this browser');\n    return Promise.reject(new Error('Speech synthesis not supported'));\n  }\n  if (!text || text.trim() === '') {\n    console.warn('Empty text provided for speech synthesis');\n    return Promise.reject(new Error('Empty text'));\n  }\n  console.log('Attempting to speak Korean text:', text);\n\n  // Cancel any ongoing speech\n  window.speechSynthesis.cancel();\n  return new Promise((resolve, reject) => {\n    const utterance = new SpeechSynthesisUtterance(text);\n    const koreanVoices = getKoreanVoices();\n\n    // Configure audio options with enhanced settings for Korean\n    utterance.rate = options.rate || 0.7; // Slower for Korean characters\n    utterance.pitch = options.pitch || 1;\n    utterance.volume = options.volume || 0.9;\n    if (koreanVoices.length > 0) {\n      utterance.voice = koreanVoices[0];\n      utterance.lang = utterance.voice.lang;\n      console.log('Using Korean voice:', utterance.voice.name);\n    } else {\n      // Fallback to Korean locale\n      utterance.lang = 'ko-KR';\n      console.log('No Korean voice found, using ko-KR locale');\n    }\n\n    // Enhanced error handling\n    utterance.onend = () => {\n      console.log('Speech synthesis completed successfully');\n      resolve();\n    };\n    utterance.onerror = error => {\n      var _utterance$voice;\n      console.error('Speech synthesis error:', error);\n      console.error('Error details:', {\n        text: text,\n        voice: (_utterance$voice = utterance.voice) === null || _utterance$voice === void 0 ? void 0 : _utterance$voice.name,\n        lang: utterance.lang,\n        rate: utterance.rate,\n        pitch: utterance.pitch,\n        volume: utterance.volume\n      });\n\n      // Try fallback with English voice if Korean fails\n      if (utterance.lang.startsWith('ko') && error.error !== 'canceled') {\n        console.log('Attempting fallback with English voice');\n        return fallbackToEnglish(text, options).then(resolve).catch(reject);\n      }\n      reject(error);\n    };\n    utterance.onstart = () => {\n      console.log('Speech synthesis started for:', text);\n      if (options.onStart) options.onStart();\n    };\n\n    // Speak the text\n    window.speechSynthesis.speak(utterance);\n  });\n};\n\n// Fallback function to use English voice when Korean voice fails\nconst fallbackToEnglish = (text, options) => {\n  return new Promise((resolve, reject) => {\n    const utterance = new SpeechSynthesisUtterance(text);\n\n    // Use English voice for fallback\n    const voices = window.speechSynthesis.getVoices();\n    const englishVoice = voices.find(voice => voice.lang.startsWith('en'));\n    if (englishVoice) {\n      utterance.voice = englishVoice;\n      utterance.lang = englishVoice.lang;\n    } else {\n      utterance.lang = 'en-US';\n    }\n    utterance.rate = 0.8;\n    utterance.pitch = 1.1;\n    utterance.onend = () => resolve();\n    utterance.onerror = error => reject(error);\n    window.speechSynthesis.speak(utterance);\n  });\n};\n\n// Play individual letter sound\nexport const playLetterSound = letter => {\n  if (!letter || !letter.koreanLetter) {\n    console.warn('Invalid letter provided for audio playback');\n    return Promise.reject(new Error('Invalid letter'));\n  }\n  console.log('Playing letter sound for:', letter.koreanLetter, 'Name:', letter.name);\n\n  // For single letters, repeat them for clarity\n  const textToSpeak = letter.koreanLetter.repeat(2);\n\n  // Enhanced Korean character handling\n  return speakKorean(textToSpeak, {\n    rate: 0.5,\n    // Even slower for individual letters\n    pitch: 1.2,\n    // Slightly higher pitch for clarity\n    onStart: () => {\n      console.log(`Playing sound for letter: ${letter.name} (${letter.koreanLetter})`);\n    },\n    onError: error => {\n      console.error(`Error playing letter ${letter.name}:`, error);\n    }\n  });\n};\n\n// Play syllable sound\nexport const playSyllableSound = syllable => {\n  if (!syllable) {\n    console.warn('Invalid syllable provided for audio playback');\n    return Promise.reject(new Error('Invalid syllable'));\n  }\n\n  // Use the syllable text if available, otherwise construct from components\n  const textToSpeak = syllable.syllable || syllable.text || (syllable.consonant && syllable.vowel ? syllable.consonant + syllable.vowel + (syllable.final || '') : '');\n  if (!textToSpeak) {\n    console.warn('No text found for syllable audio playback');\n    return Promise.reject(new Error('No text for syllable'));\n  }\n  return speakKorean(textToSpeak, {\n    rate: 0.7,\n    onStart: () => console.log(`Playing sound for syllable: ${textToSpeak}`)\n  });\n};\n\n// Play word sound\nexport const playWordSound = word => {\n  if (!word) {\n    console.warn('Invalid word provided for audio playback');\n    return Promise.reject(new Error('Invalid word'));\n  }\n\n  // Use Korean text if available, otherwise fall back to romanization\n  const textToSpeak = word.korean || word.text || word.romanization || '';\n  if (!textToSpeak) {\n    console.warn('No text found for word audio playback');\n    return Promise.reject(new Error('No text for word'));\n  }\n  return speakKorean(textToSpeak, {\n    rate: 0.8,\n    onStart: () => console.log(`Playing sound for word: ${textToSpeak}`)\n  });\n};\n\n// Play pronunciation guide (English sound description)\nexport const playPronunciationGuide = letter => {\n  if (!letter || !letter.englishSound) {\n    console.warn('Invalid letter or missing pronunciation guide');\n    return Promise.reject(new Error('Invalid letter or missing pronunciation'));\n  }\n\n  // Use Web Speech API with English voice for pronunciation guide\n  if (!isSpeechSupported()) {\n    console.warn('Speech synthesis not supported');\n    return Promise.reject(new Error('Speech synthesis not supported'));\n  }\n  window.speechSynthesis.cancel();\n  return new Promise((resolve, reject) => {\n    const utterance = new SpeechSynthesisUtterance(letter.englishSound);\n\n    // Use English voice for pronunciation guide\n    const voices = window.speechSynthesis.getVoices();\n    const englishVoice = voices.find(voice => voice.lang.startsWith('en') && (voice.name.toLowerCase().includes('female') || voice.name.toLowerCase().includes('woman'))) || voices.find(voice => voice.lang.startsWith('en'));\n    if (englishVoice) {\n      utterance.voice = englishVoice;\n      utterance.lang = englishVoice.lang;\n    } else {\n      utterance.lang = 'en-US';\n    }\n    utterance.rate = 0.9;\n    utterance.pitch = 1.1; // Slightly higher pitch for clarity\n\n    utterance.onend = () => resolve();\n    utterance.onerror = error => reject(error);\n    window.speechSynthesis.speak(utterance);\n  });\n};\n\n// Stop all audio playback\nexport const stopAllAudio = () => {\n  if (isSpeechSupported()) {\n    window.speechSynthesis.cancel();\n  }\n};\n\n// Preload voices (call this when app starts)\nexport const preloadVoices = () => {\n  if (isSpeechSupported()) {\n    // Force browser to load voices\n    window.speechSynthesis.getVoices();\n  }\n};\n\n// Debug function to test Korean character pronunciation\nexport const testKoreanCharacter = character => {\n  console.log('Testing Korean character:', character);\n  console.log('Character code:', character.charCodeAt(0));\n  console.log('Character hex:', character.charCodeAt(0).toString(16));\n\n  // Try to speak the character\n  return speakKorean(character, {\n    rate: 0.3,\n    onStart: () => console.log('Started speaking character'),\n    onError: error => console.log('Error speaking character:', error)\n  });\n};\n\n// Audio playback with visual feedback\nexport const playAudioWithFeedback = async (text, type = 'general', options = {}) => {\n  try {\n    // Add visual feedback class to body or specific element\n    document.body.classList.add('audio-playing');\n    await speakKorean(text, options);\n    return Promise.resolve();\n  } catch (error) {\n    console.error(`Error playing ${type} audio:`, error);\n    return Promise.reject(error);\n  } finally {\n    // Remove visual feedback\n    document.body.classList.remove('audio-playing');\n  }\n};","map":{"version":3,"names":["audioCache","Map","isSpeechSupported","window","getKoreanVoices","voices","speechSynthesis","getVoices","filter","voice","lang","startsWith","name","toLowerCase","includes","speakKorean","text","options","console","warn","Promise","reject","Error","trim","log","cancel","resolve","utterance","SpeechSynthesisUtterance","koreanVoices","rate","pitch","volume","length","onend","onerror","error","_utterance$voice","fallbackToEnglish","then","catch","onstart","onStart","speak","englishVoice","find","playLetterSound","letter","koreanLetter","textToSpeak","repeat","onError","playSyllableSound","syllable","consonant","vowel","final","playWordSound","word","korean","romanization","playPronunciationGuide","englishSound","stopAllAudio","preloadVoices","testKoreanCharacter","character","charCodeAt","toString","playAudioWithFeedback","type","document","body","classList","add","remove"],"sources":["/Users/gabortabi/DEV/learnKorean/src/utils/audioUtils.js"],"sourcesContent":["/**\n * Audio utilities for Korean learning app\n * Provides functions for playing sounds for letters, syllables, and words\n */\n\n// Audio cache to avoid reloading sounds\nconst audioCache = new Map();\n\n// Check if browser supports speech synthesis\nexport const isSpeechSupported = () => {\n  return 'speechSynthesis' in window;\n};\n\n// Get available Korean voices\nexport const getKoreanVoices = () => {\n  if (!isSpeechSupported()) return [];\n\n  const voices = window.speechSynthesis.getVoices();\n  return voices.filter(voice =>\n    voice.lang.startsWith('ko') ||\n    voice.name.toLowerCase().includes('korean') ||\n    voice.name.toLowerCase().includes('korea')\n  );\n};\n\n// Play Korean text using speech synthesis\nexport const speakKorean = (text, options = {}) => {\n  if (!isSpeechSupported()) {\n    console.warn('Speech synthesis not supported in this browser');\n    return Promise.reject(new Error('Speech synthesis not supported'));\n  }\n\n  if (!text || text.trim() === '') {\n    console.warn('Empty text provided for speech synthesis');\n    return Promise.reject(new Error('Empty text'));\n  }\n\n  console.log('Attempting to speak Korean text:', text);\n\n  // Cancel any ongoing speech\n  window.speechSynthesis.cancel();\n\n  return new Promise((resolve, reject) => {\n    const utterance = new SpeechSynthesisUtterance(text);\n    const koreanVoices = getKoreanVoices();\n\n    // Configure audio options with enhanced settings for Korean\n    utterance.rate = options.rate || 0.7; // Slower for Korean characters\n    utterance.pitch = options.pitch || 1;\n    utterance.volume = options.volume || 0.9;\n\n    if (koreanVoices.length > 0) {\n      utterance.voice = koreanVoices[0];\n      utterance.lang = utterance.voice.lang;\n      console.log('Using Korean voice:', utterance.voice.name);\n    } else {\n      // Fallback to Korean locale\n      utterance.lang = 'ko-KR';\n      console.log('No Korean voice found, using ko-KR locale');\n    }\n\n    // Enhanced error handling\n    utterance.onend = () => {\n      console.log('Speech synthesis completed successfully');\n      resolve();\n    };\n\n    utterance.onerror = (error) => {\n      console.error('Speech synthesis error:', error);\n      console.error('Error details:', {\n        text: text,\n        voice: utterance.voice?.name,\n        lang: utterance.lang,\n        rate: utterance.rate,\n        pitch: utterance.pitch,\n        volume: utterance.volume\n      });\n\n      // Try fallback with English voice if Korean fails\n      if (utterance.lang.startsWith('ko') && error.error !== 'canceled') {\n        console.log('Attempting fallback with English voice');\n        return fallbackToEnglish(text, options).then(resolve).catch(reject);\n      }\n\n      reject(error);\n    };\n\n    utterance.onstart = () => {\n      console.log('Speech synthesis started for:', text);\n      if (options.onStart) options.onStart();\n    };\n\n    // Speak the text\n    window.speechSynthesis.speak(utterance);\n  });\n};\n\n// Fallback function to use English voice when Korean voice fails\nconst fallbackToEnglish = (text, options) => {\n  return new Promise((resolve, reject) => {\n    const utterance = new SpeechSynthesisUtterance(text);\n\n    // Use English voice for fallback\n    const voices = window.speechSynthesis.getVoices();\n    const englishVoice = voices.find(voice => voice.lang.startsWith('en'));\n\n    if (englishVoice) {\n      utterance.voice = englishVoice;\n      utterance.lang = englishVoice.lang;\n    } else {\n      utterance.lang = 'en-US';\n    }\n\n    utterance.rate = 0.8;\n    utterance.pitch = 1.1;\n\n    utterance.onend = () => resolve();\n    utterance.onerror = (error) => reject(error);\n\n    window.speechSynthesis.speak(utterance);\n  });\n};\n\n// Play individual letter sound\nexport const playLetterSound = (letter) => {\n  if (!letter || !letter.koreanLetter) {\n    console.warn('Invalid letter provided for audio playback');\n    return Promise.reject(new Error('Invalid letter'));\n  }\n\n  console.log('Playing letter sound for:', letter.koreanLetter, 'Name:', letter.name);\n\n  // For single letters, repeat them for clarity\n  const textToSpeak = letter.koreanLetter.repeat(2);\n\n  // Enhanced Korean character handling\n  return speakKorean(textToSpeak, {\n    rate: 0.5, // Even slower for individual letters\n    pitch: 1.2, // Slightly higher pitch for clarity\n    onStart: () => {\n      console.log(`Playing sound for letter: ${letter.name} (${letter.koreanLetter})`);\n    },\n    onError: (error) => {\n      console.error(`Error playing letter ${letter.name}:`, error);\n    }\n  });\n};\n\n// Play syllable sound\nexport const playSyllableSound = (syllable) => {\n  if (!syllable) {\n    console.warn('Invalid syllable provided for audio playback');\n    return Promise.reject(new Error('Invalid syllable'));\n  }\n\n  // Use the syllable text if available, otherwise construct from components\n  const textToSpeak = syllable.syllable || syllable.text ||\n    (syllable.consonant && syllable.vowel ?\n      syllable.consonant + syllable.vowel + (syllable.final || '') : '');\n\n  if (!textToSpeak) {\n    console.warn('No text found for syllable audio playback');\n    return Promise.reject(new Error('No text for syllable'));\n  }\n\n  return speakKorean(textToSpeak, {\n    rate: 0.7,\n    onStart: () => console.log(`Playing sound for syllable: ${textToSpeak}`)\n  });\n};\n\n// Play word sound\nexport const playWordSound = (word) => {\n  if (!word) {\n    console.warn('Invalid word provided for audio playback');\n    return Promise.reject(new Error('Invalid word'));\n  }\n\n  // Use Korean text if available, otherwise fall back to romanization\n  const textToSpeak = word.korean || word.text || word.romanization || '';\n\n  if (!textToSpeak) {\n    console.warn('No text found for word audio playback');\n    return Promise.reject(new Error('No text for word'));\n  }\n\n  return speakKorean(textToSpeak, {\n    rate: 0.8,\n    onStart: () => console.log(`Playing sound for word: ${textToSpeak}`)\n  });\n};\n\n// Play pronunciation guide (English sound description)\nexport const playPronunciationGuide = (letter) => {\n  if (!letter || !letter.englishSound) {\n    console.warn('Invalid letter or missing pronunciation guide');\n    return Promise.reject(new Error('Invalid letter or missing pronunciation'));\n  }\n\n  // Use Web Speech API with English voice for pronunciation guide\n  if (!isSpeechSupported()) {\n    console.warn('Speech synthesis not supported');\n    return Promise.reject(new Error('Speech synthesis not supported'));\n  }\n\n  window.speechSynthesis.cancel();\n\n  return new Promise((resolve, reject) => {\n    const utterance = new SpeechSynthesisUtterance(letter.englishSound);\n\n    // Use English voice for pronunciation guide\n    const voices = window.speechSynthesis.getVoices();\n    const englishVoice = voices.find(voice =>\n      voice.lang.startsWith('en') &&\n      (voice.name.toLowerCase().includes('female') || voice.name.toLowerCase().includes('woman'))\n    ) || voices.find(voice => voice.lang.startsWith('en'));\n\n    if (englishVoice) {\n      utterance.voice = englishVoice;\n      utterance.lang = englishVoice.lang;\n    } else {\n      utterance.lang = 'en-US';\n    }\n\n    utterance.rate = 0.9;\n    utterance.pitch = 1.1; // Slightly higher pitch for clarity\n\n    utterance.onend = () => resolve();\n    utterance.onerror = (error) => reject(error);\n\n    window.speechSynthesis.speak(utterance);\n  });\n};\n\n// Stop all audio playback\nexport const stopAllAudio = () => {\n  if (isSpeechSupported()) {\n    window.speechSynthesis.cancel();\n  }\n};\n\n// Preload voices (call this when app starts)\nexport const preloadVoices = () => {\n  if (isSpeechSupported()) {\n    // Force browser to load voices\n    window.speechSynthesis.getVoices();\n  }\n};\n\n// Debug function to test Korean character pronunciation\nexport const testKoreanCharacter = (character) => {\n  console.log('Testing Korean character:', character);\n  console.log('Character code:', character.charCodeAt(0));\n  console.log('Character hex:', character.charCodeAt(0).toString(16));\n\n  // Try to speak the character\n  return speakKorean(character, {\n    rate: 0.3,\n    onStart: () => console.log('Started speaking character'),\n    onError: (error) => console.log('Error speaking character:', error)\n  });\n};\n\n// Audio playback with visual feedback\nexport const playAudioWithFeedback = async (text, type = 'general', options = {}) => {\n  try {\n    // Add visual feedback class to body or specific element\n    document.body.classList.add('audio-playing');\n\n    await speakKorean(text, options);\n\n    return Promise.resolve();\n  } catch (error) {\n    console.error(`Error playing ${type} audio:`, error);\n    return Promise.reject(error);\n  } finally {\n    // Remove visual feedback\n    document.body.classList.remove('audio-playing');\n  }\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}